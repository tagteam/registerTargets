#+TITLE: PhD course Targeted Register Analysis. Exercises: Day 1 part 2

* Objectives

The learning targets of this exercise is an introduction to the basic
concept of the R-package =targets=
  
----------------------------------------------------------------------
** Preparation

-  [[goodies/targets.org]]

* An example targets project

- Switch to the RStudio project /example_project/ (e.g., via recent projects)
- Open and read the file =_targets.R= (e.g., via "Control-Shift f" eller "Control .") 
- Open and work through the file =run_targets.R= then continue here
- Add the following new target to the pipeline: 
 
#+BEGIN_SRC R  :results output raw  :exports code  :session *R* :cache yes  
tar_target(propensity_score_table,{

  packages=c("data.table","Publish"))
#+END_SRC

  Run =tar_make()= then load and print this new target:
  =tar_load(demo_table)= followed by =print(demo_table)=
- Extract and move the body of the just created target 'demo_table' to a new file
  =functions/get_demo_table.R=, adapt the file =_targets.R=:
#+BEGIN_SRC R  :results output raw  :exports code  :session *R* :cache yes  
tar_target(demo_table,{
  get_demo_table(data)
},packages=c("data.table","Publish"))
#+END_SRC  
  Then run =tar_make()= again ...
----------------------------------------------------------------------

